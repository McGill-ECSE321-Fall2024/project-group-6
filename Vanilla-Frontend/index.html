<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" contents="IE-edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GameShop</title>


        <link rel="stylesheet" href="./index.css">
        <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">

</head>
<body>
        <header>
            <nav class="navbar">
                <div class="logo">
                    <h2>GameShop</h2>
                </div>
                <div class ="navmenu">
                    <div class="search-box">
                        <input type="search" class="search" placeholder="Search game...">
                        <i class='bx bx-search'></i>
                    </div>
                   <div class="iconCart">
                       <img src="img.png">
                   </div>
                </div>
            </nav>
            <div class="main-header">
                <div class="header">
                    <h2>Your GameShop Wishlist</h2>
                    <h5>Your favorite games all in one place! Grab them now before they're gone!</h5>
                    <a href="" class="btn">Add wishlist to cart</a>
                </div>
            </div>
            <section class="wishlist">
                <table>
                    <tbody>
                    <tr>
                        <th>Game Details</th>
                        <th>Price</th>
                        <th>Add/Remove</th>
                    </tr>
                    <tr>
                        <td>Registered</td>
                        <td>{{ eventDetails.numRegistered }} (max {{ eventDetails.registrationLimit }})</td>
                        <td>
                            <button type="button" class="btn">Add to cart </button>
                            <button type="button" class="btn">Remove</button>
                        </td>
                    </tr>
                    <tr>
                    </tr>
                    </tbody>
                </table>
            </section>
        </header>
</body>
</html>

<script>
import axios from "axios";

const axiosClient = axios.create({
	baseURL: "http://localhost:8080"
});

export default {
	name: "event-details",
	data() {
		return {
			eventDetails: null
		};
	},
	async created() {
		// https://router.vuejs.org/guide/essentials/dynamic-matching.html
		this.fetchEventDetails(this.$route.params.eid);
	},
	methods: {
		async fetchEventDetails(eid) {
			try {
				const response = await axiosClient.get(`/events/${eid}`);
				this.eventDetails = response.data;
			}
			catch (e) {
				// TODO: Tell the user about it
				console.error(e);
			}
		}
	}
};
</script>